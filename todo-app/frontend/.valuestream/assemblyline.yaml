apiVersion: vs.axis-dev.io/v1
kind: AssemblyLine
metadata:
  name: iacs-555-gcp-frontend-deploy
spec:
  params:
    - name: gitRevision
      description: ""
  stages:
    - name: iacs-555-gcp-frontend-deploy
      spec:
        deployment:
          app: iacs-555-gcp-frontend-deploy
          name: iacs-555-gcp-frontend-deploy
        params:
          - name: gitRevision
            value: $(inputs.gitRevision)
        pipeline: iacs-555-gcp-frontend-deploy
    - name: iacs-555-gcp-frontend-publish-site
      spec:
        deployment:
          app: iacs-555-gcp-frontend-deploy
          name: iacs-555-gcp-frontend-deploy
        params:
          - name: gitRevision
            value: $(inputs.gitRevision)
        pipeline: iacs-555-gcp-frontend-publish-site
      runAfter:
        - iacs-555-gcp-frontend-deploy
  artifacts:
    - path: ./
  results:
    - name: defaultDomain
      value: $(stages.iacs-555-gcp-frontend-publish-site.results.defaultDomain)
    - name: customDomain
      value: $(stages.iacs-555-gcp-frontend-publish-site.results.customDomain)